#!Groovy

node {
  stage ('Preparation (Checking out)') {
    git url: 'https://github.com/soigh/mntlab-pipeline.git', branch: 'osamorukova'
  }
  
  stage ('Building code') {
    sh '/opt/gradle/bin/gradle build'
  }
  
  stage ('Testing code') {
    parallel (
    'Unit Test': {sh '/opt/gradle/bin/gradle test'},
    Jacoco: {sh '/opt/gradle/bin/gradle jacocoTestReport'},
    Cucumber: {sh '/opt/gradle/bin/gradle cucumber'}
    )
  }
  
  stage ('Triggering job and fetching artefact after finishing') {
  }
  
  stage ('Packaging and Publishing results') {
  }
  
  stage ('Asking for manual approval') {
  }
  
  stage ('Deployment') {
  }
  
  stage ('Sending status') {
  }
  
}
